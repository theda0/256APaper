\documentclass{article}

\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[letterpaper,top=2cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}
\usepackage{graphicx}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{quiver}
\usetikzlibrary{matrix}
\usepackage[most]{tcolorbox}
\usepackage{hyperref}
\usepackage{array}
\usepackage{colonequals}
\usepackage{todonotes}
\usepackage{theoremref}

\font\maljapanese=dmjhira at 2.5ex
\newcommand{\yo}{\textrm{\!\maljapanese\char"48}}

\newtheorem{theorem}{Theorem}[section]

\theoremstyle{definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{examples}[theorem]{Examples}


\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\mb}[1]{\mathbb{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mk}[1]{\mathfrak{#1}}
\newcommand{\un}{\cup}
\newcommand{\ic}{\cap}
\pagestyle{fancy}
\newcommand\size{1}% distance of nodes from center

\usepackage{microtype}
\begin{document}


\title{The \'Etale Fundamental Group}
\author{Daniel Ao}

\maketitle

\tableofcontents

\section{Introduction}

The fundamental group is an important invariant that appears in algebraic topology and it is a natural question to ask if there is an analog in the algebro-geometric setting.
Every scheme has an associated topological space, so one may naively apply the definitions from algebraic topology; however, the topology on schemes is generally too coarse for us to obtain anything of worth.
A more fruitful approach which we will lay out instead uses the fundamental group's relation to theory of covers, of which there is a satisfactory schematic analog in finite \'etale covers.\\

It turns out that the \'Etale fundamental group is intimately related to that of Galois theory for field extensions.

\section{Preliminaries}

There is an intimate connection between Galois theory of field extensions and covering theory for topological spaces.
With this in mind, we will first undergo a brief excursion into the two and develop the necessary knowledge before taking a look at the \'Etale Fundamental Group.

\subsection{Infinite Galois Theory}

Following the notation of \cite{Szamuely} we will denote a field extension $k \subseteq K$ as $K|k$. 
Now for finite Galois extensions $K|k$, there is an inclusion-reversing bijection between subfields $k \subseteq L \subseteq K$ and subgroups $H \subset \text{Gal}(K|k)$.
In particular, a subfield $L$ is assigned the subgroup $\text{Aut}(K|L) \subset \text{Gal}(K|k)$ fixing $L$ and a subgroup $H$ is assigned its fixed field $K^H$.
Unfortunately, for infinite Galois extensions this correspondence breaks down.
However, there is still a satisfactory correspondence which we will look at.\\

First note that any partially ordered set $(\Lambda, \leq)$ can be viewed as a category where the objects are elements of $\Lambda$, and there is a morphism between $a,b \in \Lambda$ if and only if $a \leq b$.
Call a partially ordered set $(\Lambda, \leq)$ \textit{directed} if for all $c_1, c_2 \in \Lambda$ there exists a $d \in \Lambda$ such that $c_1 \leq d, c_2 \leq d$.

\begin{definition}
	Let $\mc{C}$ be a category and $J$ a directed partially ordered set. A \textit{(filtered) inverse system} of $\mc{C}$ is a contravariant functor $F: J^{\text{op}} \to \mc{C}$.
\end{definition}

We will call the limit (if it exists) of am inverse system $F: J^{\text{op}} \to \mc{C}$ an \textit{inverse limit}.
It will be denoted as $\varprojlim C_{j}$, where $\{C_j\}_{j \in J}$ are the objects in $\mc{C}$ indexed by $J$.
When $\mc{C}$ is the category of groups, the limit always exists and it is the subgroup of $\prod_{j \in J} G_j$ consisting of sequences $(g_i)$ such that $Fk(g_i) = g_j$ if there is a morphism $k: i  \to j$ in $\Lambda$.

\begin{definition}
	A profinite group is the inverse limit of an inverse system whose objects are all finite groups.
\end{definition}

\begin{examples} \text{}
\begin{enumerate}
	\item For a group $G$, the set of finite quotients is naturally an inverse system.
		In particular, there is a partial order on the set of normal subgroups of finite index where $H_1 \leq H_2 \Longleftrightarrow H_1 \subset H_2$, and natural maps $H$
\end{enumerate}
\todo{Finish this example}
\end{examples}

\begin{remark}
	There is a natural topology on any profinite group.
	\todo{Finish this remark}
\end{remark}

\begin{theorem}[Krull]
	Let $K | k$ be a Galois extension.
	If $k \subseteq L \subseteq K$ is a subestension, then $\text{Gal}(K|L)$ is a closed subgroup of $\text{Gal}(K|k)$.
	In particular, for subextensions $L$ and closed subgroups $H \subset \text{Gal}(K|k)$ the maps $H \to K^H$ and $L \to \text{Gal}(K|L)$ form an inclusion reversing bijection.
\end{theorem}

\begin{proof}
	See \cite{Szamuely}, Theorem 1.3.11. 
	\todo{Add we might prove this later, and that Galois group is profinite}
\end{proof}


\begin{remark}
	Of course, to show that this differs from the theory in the case of finite extensions, we need to show that not all subgroups of a Galois group must be closed.
	\todo{Finish remark, start talking about Grothendieck's formuation}
\end{remark}

\begin{definition}
	A finite-dimensional $k$-algebra $A$ is \textit{\'etale} (over $k$) if it is isomorphic to the finite direct product of separable extensions of $k$.
\end{definition}

\begin{proposition}
	Let $A$ be a finite dimensional $k$-algebra.
	Then the following conditions are equivalent:
	\begin{enumerate}
		\item $A$ is \'etale
		\item $A \otimes_k \overline{k}$ is isomorphic to a finite direct product of copies of $\overline{k}$.
	\end{enumerate}
\end{proposition}
\begin{proof}
	The proof is quite involved, see \cite{Szamuely}, Proposition 1.5.6.
\end{proof}

We finally end with the following theorem to consider 
\begin{theorem}
	Let $k$ be a field. 
	Then the functor mapping a finite \'etale k-algebra $A$ to the finite set $\text{Hom}_k(A, k_s)$ gives an anti-equivalence between the category of finite sets with continouos (left) $\text{Gal}(k)$-action.
	Here separable field extensions give rise to sets with transitive $\text{Gal}(k)$-action and Galois extensions to $\text{Gal}(k)$ -sets isomorphic to finite quotients of $\text{Gal}(k)$.
\end{theorem}


\subsection{The Topological Fundamental Group}

We now begin a brief journey into topology,
\todo{Add a small intro}
From here on out we will refer to topological spaces as simple \textit{spaces} for brevity.

\begin{definition}
	Let $X$ be a topological space. 
	A \textit{path} in $X$ is a continuous map $s: [0,1] \to X$ from the unit interval.
	The two endpoints are $s(0)$ and $s(1)$, and if they coincide we may also call the path a \textit{loop}.
\end{definition}

We will call two paths $f,g: [0,1] \to X$ \textit{homotopic} if $f(0) = g(0), f(1), g(1)$ and there exists a continuous map $h: [0,1] \times [0,1] \to X$ such that $h(0,t) = f(t), h(1,t) = g(t), h(t,0) = f(0)$ and $g(t,1) = f(1)$ for all $t \in [0,1]$.
Intuitively, we may think of a homotopy between two paths $f$ and $g$ as a continuous deformation moving $f$ to $g$ in $X$, keeping the endpoints fixed. 
It is straightforward to check that homotopies define an equivalence relation on the set of paths in $X$.\\
\indent Additionally, for any two paths $f,g: [0,1] \to X$ where $f(1) = g(0)$ we can define their composition $f \circ g: [0,1] \to X$ where $(f \circ g )(t) = f(t)$ for $0 \leq t \leq \frac{1}{2}$ and $(f \circ g)(t) = g(2t - 1)$ for $ \frac{1}{2} < t \leq 1$ which we may think of as concatenating the two paths.
In particular, any two loops starting and ending at the same point can be composed.

\begin{proposition}
	For a topological space $X$ and a choice of a basepoint $x \in X$, concatenation of loops which start and end at $x$ forms a group when restricted to homotopy classes.
\end{proposition}

This is a straightforward check. 
In particular, the identity is the homotopy class of the constant loop $s: [0,1] \to x \in X$ and the inverse of a homotopy class of the loop $s: [0,1] \to X$ is the homotopy class of the "backwards" path $s(1-t)$.

\begin{definition}[Fundamental Group]
	For a space $X$ with basepoint $x$, the \textit{Fundamental Group} $\pi_1(X,x)$	is the group of homotopy classes of loops with origin in $x$.
	The group operation is the same composition of loops defined previously.
\end{definition}

\begin{examples} \text{}
	\begin{enumerate}
		\item The circle $S^1$ has fundamental group $\Z$.
		\item $\R^n$ has trivial fundamental group, such spaces are called \textit{simply connected}.
	\end{enumerate}
	
\end{examples}

\begin{definition}[Covering Spaces]
	A cover of $X$ consists of a topological space $Y$ and a map $p:Y \to X$ that satisfies the following property. 
	For all $x \in X$ there exists an open neighborhood $U$ of $x$ where $p^{-1}(U)$ decomposes into a nonempty disjoint union of open subsets $V_i$ of $X$ such that each map homeomorphically onto $U$ under $p$.
\end{definition}

Under the above conditions we may also call $Y$ a \textit{covering} of $X$.
If in addition, if the fibers $p^{-1}(x)$ of a cover are finite for all $x \in X$ we may call $Y$ a \textit{finite cover} or \textit{finite covering} of $X$.
Note that some authors require a covering space to be connected, we will not follow this convention and will explicitly state whenever $Y$ is connected.

\begin{example} Suppose that a topological group $G$ acts discretely on a space $Y$, that is, every $y \in Y$ has an open neighborhood $V$ such that the open sets $gV$ are pairwise disjoint for all $g  \in G$.
	Then the natural projection $Y \to G/Y$ under this action is a projection.
	For example, $\Z$ acts on $\R$ discretely by translation via the map $\Z \times \R \to \R$ sending $(n,r) \to n+r$.
	The corresponding cover $\R \to \R/\Z$ is a covering of $\R/\Z$ which is homeomorphic to $S^1$.
\end{example}

\indent A map between two covers $p_1: Y_1 \to X, p_2: Y_2 \to X$ is a continuous map $f: Y_1 \to Y_2$ making the below diagram commute.
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJZXzEiXSxbMiwwLCJZXzIiXSxbMSwxLCJYIl0sWzAsMiwicF8xIl0sWzEsMiwicF8yIiwyXSxbMCwxLCJmIl1d
\[\begin{tikzcd}
	{Y_1} && {Y_2} \\
	& X
	\arrow["f", from=1-1, to=1-3]
	\arrow["{p_1}", from=1-1, to=2-2]
	\arrow["{p_2}"', from=1-3, to=2-2]
\end{tikzcd}\]
From the commutativity, we see that for any $x \in X$ the map $f$ restricts to map between the fibers $p_1^{-1}(x)$ and $p_2^{-1}(x)$.\\
\indent Now these maps along with the objects consisting of covers over $X$ defines a category.
Hence for each cover $p:Y \to X$ there is a group of automorphisms consisting of the maps $f: Y \to Y$ such that $f = f \circ p$.
We will denote this group as $\text{Aut}(Y|X)$ from now on, and call its elements \textit{deck transformations} following \cite{FomenkoFuchs}.
Now deck transformations must map fibers $p$ bijectively onto each other, which leads us to consider the following types of covers.

\begin{definition}[Galois Covers]
	A connected cover $p: Y \to X$ is \textit{Galois} if the group of deck transformations acts transitively on each fiber.
\end{definition}

We will not immediately make use of this definition, but keep it in mind for now.
The following lemma is very useful.

\begin{proposition}[Lifting Paths and Homotopies]	
	Let $p: Y \to X$ be a covering. 
	For any $\widetilde{x} \in Y$, and path $s: [0,1] \to X$ such that $s(0) = x = p(\widetilde{x})$, there exists a unique path $\widetilde{s}:[0,1] \to Y$ such that $\widetilde{s}(0) = \widetilde{x}$ and $p \circ \widetilde{s} = s$.
	In addition, if $s_1, s_2$ are two homotopic paths in $X$, their lifts $\widetilde{s_1}$ and $\widetilde{s_2}$ are homotopic in $Y$.
\end{proposition}

\begin{proof}
	See \cite{FomenkoFuchs}, Lecture 6.5.
\end{proof}
		
Consider a covering $p: Y \to X$ and let $x \in X$ be a chosen basepoint and $y$ an element of the fiber $p^{-1}(x)$.
	For any path $s$ representing a class $[\alpha] \in \pi_1(X,x)$ there is a unique lift $\widetilde{s}$ from the previous proposition.
	Define an action of $\pi_1(X,x)$ on the set $p^{-1}(x)$ by letting $[\alpha] \circ y = \widetilde{s}(1)$.
	Since $\widetilde{s}(1)$ is the same for homotopic paths, this action is well-defined by the last part of the previous proposition.
	We will call this (left) continuous action on $p^{-1}(x)$ the \textit{monodromy action}.\\

	
\begin{theorem}
	There is an equivalence of categories between covers and $\pi(X,x)$-sets.
\end{theorem}


\begin{theorem}
	For a space $X$ with base point $x$, the functor $\text{Fib}_x$ induces an equivalence between the category of finite covers of $X$ and the category of finite continuous left $\widetilde{\pi_1(X,s)}$-sets.
	Connected covers correspond to finite $\widetilde{\pi_1(X,s)}$-sets with transitive action and Galois covers correspond to space of open normal subgroups.
\end{theorem}
\begin{proof}
	See \cite{Szamuely}
\end{proof}

\todo{Talk about Galois categories}

For an approach which builds everything up using Galois Categories, see either \cite{grothendieck} or \cite{Lenstra}.

\todo{Talk about locally constant sheaves?}

\section{The \'Etale Fundamental Group}

We can now start defining the scheme analogue of the fundamental group. 
\subsection{Finite \'Etale Covers}
The correct notion of covering is much more subtle in the case of schemes 
\begin{definition}[Finite morphism]
	An affine morphism $f: X \to Y$ of schemes is called \textit{finite} if for some affine open cover $\{U_i\}_{i \in I}  = \{\text{Spec}(A_i)\}_{i \in I}$ where $f^{-1}(U_i) = \text{Spec}(B_i)$, the natural ring homomorphism $A_i \to B_i$ exhibits $B_i$ as a finitely generated $A_i$-module.
\end{definition}

\begin{example}
	A closed immersion is finite as closed immersions are affine and the induced maps $\text{Spec}(A) \to \text{Spec}(A/I)$ are induced by surjective ring maps.
\end{example}

\begin{proposition}
	Finite morphisms are proper.
\end{proposition}
\begin{proof}
	\todo{Use Valuative criterion}
\end{proof}

For a map $f: X \to Y$ of schemes the map $f^{\flat}: \mc{O}_Y \to f_*\mc{O}_X$ exhibits the direct image sheaf $f_* \mc{O}_X$ as an $\mc{O}_Y$-algebra.
In particular, $f_* \mc{O}_X$ is also an $\mc{O}_Y$-module.
This allows us to make the next definition.

\begin{definition}[Locally free morphism]	
	A finite morphism $f: X \to S$ is \textit{locally free} if the direct image sheaf $f_* \mc{O}_X$ is locally free of finite rank.   
\end{definition}

\begin{definition}[Finite \'etale morphism]
	A locally free morphism $f$ where for each $s \in S$, the fiber $X_s$ is a finite \'etale $\kappa(s)$-algebra is called a \textit{finite \'etale morphism}.
	If $f$ is also surjective (on space) we may call $f$ a \textit{finite \'etale cover}.
\end{definition}


\todo{This may not be necessary, check}
\begin{proposition}
Finite \'etale morphisms are closed under base change and composition
\end{proposition}

\begin{proposition}
	The image of a finite and locally free morphism $f$ (in particular a finite \'etale cover) is both open and closed.
\end{proposition}

\begin{proof}
	The image is closed because a finite morphism is proper and hence a closed immersion.
	To show that it is open, consider a
	\todo{Finish proof}
\end{proof}

\begin{example}
	Trivial covers
\end{example}

\begin{definition}[Geometric Point]
	Let $X$ be a scheme and consider a map $\overline{x}: \text{Spec}(k) \to X$ for $k$ a field.
	Denote $x \in X$ the image of the unique point of $\text{Spec}(k)$ under $\overline{x}$.
	We say $\overline{x}$ is a \textit{geometric point} if the field extension $\kappa(x) \supset k$ is a separable closure of $k$.
\end{definition}

\begin{definition}[Geometric Fiber]
	Let $S$ be a scheme. 
	Given a morphism $f: X \to S$ and a geometric point $\overline{x}: \text{Spec}(k) \to X$ the \textit{geometric fiber} $X_{\overline{x}}$ is the fiber product $\text{Spec}(k) \times_S X$ induced by $f$ and $\overline{x}$.
\end{definition}


\begin{proposition}
	Let $S$ be a connected scheme, and $f\colon X \to S$ an affine surjective morphism.
	Then $f$ is a finite \'etale cover if and only if there is a finite, locally free and surjective morphism $g: Y \to S$ such that $X \times_S Y$ is a trivial cover of $Y$.
\end{proposition}

\begin{lemma}
	Let $f\colon X \to S$ and $G: Y \to X$ be morphisms of schemes. 
	Then 
	\begin{enumerate}
		\item If $f \circ g$ is finite and $f$ is separated, then $g$ is finite.
		\item If in addition both $f \circ g$ and $g$ are finite \'etale, then so is $g$.
	\end{enumerate}
	
\end{lemma}

\begin{proof}
	\todo{Cancellation Lemma}
\end{proof}

\begin{lemma}
	Let $X, Z$ be two $S$-schemes where $Z$ is connected and $X$ finite \'etale (over $S$). 
	If $f_1, f_2: Z \to X$ are two $S$-scheme morphisms and $\overline{z}$ a geometric point of $Z$  such that $f_1 \circ \overline{z} = f_2 \circ \overline{z}$ then $f_1 = f_2$.
\end{lemma}

\begin{corollary}
	If $f: X \to S$ is a connected finite \'etale cover, then nontrivial elements of $\text{Aut}(X|S)$ act without any fixed points on any geometric fiber.
	In particular, $\text{Aut}(X|S)$ is finite.
\end{corollary}

\begin{proof}
	\todo{Previous lemma as well}
\end{proof}

With the notion of an action on the fibers of a cover, we have an analogous definition to that in the topological case.

\begin{definition}[Finite \'etale Galois cover]
	A connected finite \'etale cover $X \to S$ is called \textit{Galois} if $\text{Aut}(X|S)$ acts transitively on every geometric fiber.
\end{definition}

\begin{proposition}
	Let $f: X \to S$ be a connected finite \'etale cover. 
	There is a morphism $\pi: P \to X$ such that $f \circ \pi: P \to S$ is a finite \'etale Galois cover, and moreover every $S-$scheme morphism from a Galois cover to $X$ factors through $\pi$.
\end{proposition}

\subsection{The Algebraic Fundamental Group}

\todo{Talk about the fiber functor}

\begin{definition}[The Algebraic Fundamental Group]
	For a scheme $S$ and a geometric point $\widetilde{s}: \text{Spec}(K) \to S$, we define the \textit{algebraic fundamental group} $\pi_1(S, \widetilde{s})$ as the automorphism group of the fiber functor from $\text{Fet}_{S}$ to $\text{Fib}_{\widetilde{s}}$.
\end{definition}

\begin{definition}[Pro-representable functors]
	Let $C$ be a category and $F: C \to \text{Set}$ a set-valued functor.
	We will say that $F$ is \textit{pro-representable} if it is the limit of an inverse system in the category $\text{Set}^C$ of set valued-functors with indexing objects representable presheaves.
\end{definition} 

\begin{proposition}
	Let $X$ be a finite \'etale $S$-scheme and $\overline{s}$ a geometric point of $S$.
	Then the fiber functor $\text{Fib}_{\overline{s}}$ is pro-representable.
\end{proposition}

\begin{corollary}
	Every automorphism of the functor $\text{Fib}_{\overline{s}}$ comes from a unique automorphism of the inverse system constructed in the above proof.
\end{corollary}

\begin{corollary}
	The automorphism groups $\text{Aut}(X_i)^{\text{op}}$ form an inverse system whose limit is isomorphic to $\pi_1(S, \overline{s})$.
\end{corollary}

\begin{theorem}[Grothendieck]
	Let $S$ be a connected scheme, and $\widetilde{s}: \text{Spec}(K) \to S$ a geometric point. Then \begin{enumerate} 
		\item The group $\pi_1(S, \overline{s})$ is profinite, and its action on $\text{Fib}){\overline{s}}(X)$ is continuous for all $X$.\\
		\item The functor $\text{Fib}_{\overline{s}}$ induces an equivalence between $\text{Fet}_S$ and the category of finite continuous (left) $\pi_1(S, \overline{s})$-sets.	In addition, connected covers correspond to sets with transitive action, and Galois covers to finite quotients of $\pi_1(S, \overline{s})$.
 \end{enumerate}

 
\end{theorem}

\begin{proposition}
	Let $K \supset k$ be an extension of algebraically closed fields, and let $X$ be a proper integral scheme over $k$.
	Then the natural map $\pi_1(X_L, \overline{x}_K) \to \pi_1(X, \overline{x})$ is an isomorphism for all geometric points $\overline{x}$ of $X$.
\end{proposition} 

\section{The Riemann Existence Theorem}

\todo{Learn a lot..}
\begin{definition}[Associated Analytic Space]
	df
\end{definition}

Begin talking about uses


\begin{theorem}[Riemann Existence]\thlabel{RiemannExistence}
	Let $X$ be a connected scheme of finite type iver $\C$.
	Then the functor $(Y \to X) \mapsto (Y^{\text{an}} \to X^{\text{an}}))$ induces an equivalence between the categories of finite \'etale covers of $X$ and finite topological covers of $X^{\text{an}}$.
	As a result, for every $\C$ point $\overline{x}: \text{Spec}(\C) \to X$ this functor induces an isomorphism
	\[\widetilde{\pi_1^{\text{top}}(X^{\text{an}}, \overline{x})} \xrightarrow{\sim} \pi_1(X, \overline{x})\]

\subsection{Characteristic Zero}

\subsection{Finite Characteristic}
\end{theorem}

\bibliographystyle{plain}
\bibliography{lib}
\end{document}
